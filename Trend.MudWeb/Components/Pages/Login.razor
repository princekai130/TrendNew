@page "/login"
@inject NavigationManager NavManager

<MudContainer MaxWidth="MaxWidth.Small" Class="d-flex align-center justify-center" Style="height: 80vh;">
    <MudPaper Elevation="4" Class="pa-8" Width="100%" Style="max-width: 400px; border-radius: 12px;">
        <form action="/api/auth/login" method="post">
            <MudStack Spacing="4">
                <div class="d-flex flex-column align-center mb-4">
                    <MudIcon Icon="@Icons.Material.Filled.TrendingUp" Color="Color.Primary" Size="Size.Large" />
                    <MudText Typo="Typo.h4" Class="fw-bold">Trendz</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">Platform Pantau Tren Otomatis</MudText>
                </div>

                @if (NavManager.Uri.Contains("error=true"))
                {
                    <MudAlert Severity="Severity.Error" Dense="true">Email atau Password salah.</MudAlert>
                }

                @* Perbaikan: Tambahkan T="string" pada MudTextField *@
                <MudTextField T="string" Name="email" Label="Email" Variant="Variant.Outlined" Required="true" />

                <MudTextField T="string" Name="password" Label="Password" Variant="Variant.Outlined"
                              InputType="InputType.Password" Required="true" />

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled"
                           Color="Color.Primary" Size="Size.Large" FullWidth="true" Class="mt-4">
                    Masuk Sekarang
                </MudButton>
            </MudStack>
        </form>
    </MudPaper>
</MudContainer>