@page "/login"
@inject NavigationManager NavManager

<MudContainer MaxWidth="MaxWidth.False" Class="login-bg">
    <MudPaper Elevation="8" Class="login-card">
        <form action="/api/auth/login" method="post">
            <MudStack Spacing="3">

                <!-- Logo & Branding -->
                <div class="text-center mb-4">
                    <MudIcon Icon="@Icons.Material.Filled.TrendingUp"
                             Color="Color.Primary"
                             Size="Size.Large"
                             Class="mb-2" />

                    <MudText Typo="Typo.h4" Class="fw-bold">
                        Trendz
                    </MudText>

                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                        Temukan tren sebelum viral 🚀
                    </MudText>
                </div>

                @if (NavManager.Uri.Contains("error=true"))
                {
                    <MudAlert Severity="Severity.Error" Variant="Variant.Outlined" Dense>
                        Email atau password salah
                    </MudAlert>
                }

                <!-- Email -->
                <MudTextField T="string"
                              Name="email"
                              Label="Email"
                              Variant="Variant.Outlined"
                              Required
                              FullWidth
                              Adornment="Adornment.Start"
                              AdornmentIcon="@Icons.Material.Filled.Email" />

                <!-- Password -->
                <MudTextField T="string"
                              Name="password"
                              Label="Password"
                              Variant="Variant.Outlined"
                              InputType="InputType.Password"
                              Required
                              FullWidth
                              Adornment="Adornment.Start"
                              AdornmentIcon="@Icons.Material.Filled.Lock" />

                <!-- Button -->
                <MudButton ButtonType="ButtonType.Submit"
                           Variant="Variant.Filled"
                           Color="Color.Primary"
                           Size="Size.Large"
                           FullWidth
                           Class="mt-2 login-btn">
                    Masuk ke Trendz
                </MudButton>

            </MudStack>
        </form>
    </MudPaper>
</MudContainer>
