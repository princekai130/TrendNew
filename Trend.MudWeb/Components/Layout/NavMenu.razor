<style>
    .trendz-nav {
        padding: 12px;
        /* Menyamakan background dengan MainLayout agar seamless */
        background-color: transparent !important;
    }

    .nav-section-title {
        /* Warna teks judul seksi yang adaptif */
        color: var(--mud-palette-text-disabled);
        font-weight: 700;
        font-size: 0.7rem;
        letter-spacing: 1.2px;
        padding: 24px 16px 8px 16px;
        text-transform: uppercase;
    }

    .nav-item-custom {
        border-radius: 12px !important;
        margin: 4px 0;
        transition: all 0.2s ease;
        /* Warna teks default adaptif */
        color: var(--mud-palette-text-secondary) !important;
    }

        /* Efek Hover */
        .nav-item-custom:hover {
            background-color: rgba(var(--mud-palette-primary-rgb), 0.08) !important;
            color: var(--mud-palette-primary) !important;
        }

        /* Efek Active (Saat halaman dipilih) */
        .nav-item-custom.active {
            background-color: rgba(var(--mud-palette-primary-rgb), 0.15) !important;
            color: var(--mud-palette-primary) !important;
            font-weight: 600;
        }

        /* Ikon Navigasi */
        .nav-item-custom .mud-nav-link-icon {
            color: inherit !important; /* Ikon mengikuti warna teks */
        }

    .pro-badge-nav {
        font-size: 9px;
        font-weight: 800;
        padding: 2px 6px;
        border-radius: 6px;
        background: var(--mud-palette-warning);
        color: var(--mud-palette-warning-darken);
    }
</style>

<MudNavMenu Class="trendz-nav">
    <AuthorizeView>
        <Authorized>
            @* --- BAGIAN UTAMA --- *@
            <MudText Typo="Typo.caption" Class="nav-section-title">UTAMA</MudText>

            <MudNavLink Href="dashboard" Match="NavLinkMatch.All" Icon="@Icons.Material.Outlined.SpaceDashboard" Class="nav-item-custom">
                Dashboard
            </MudNavLink>

            <MudNavLink Href="trendexplorer" Icon="@Icons.Material.Outlined.Explore" Class="nav-item-custom">
                Trend Explorer
            </MudNavLink>

            <MudNavLink Href="Notifications" Icon="@Icons.Material.Outlined.Notifications" Class="nav-item-custom">
                <div class="d-flex align-center justify-space-between w-100">
                    Notifikasi
                    @if (_unreadCount > 0)
                    {
                        <MudBadge Content="@_unreadCount" Color="Color.Error" Overlap="false" Class="ml-2" />
                    }
                </div>
            </MudNavLink>

            @* --- BAGIAN PREMIUM --- *@
            <AuthorizeView Policy="PremiumOnly" Context="premiumContext">
                <Authorized>
                    <MudText Typo="Typo.caption" Class="nav-section-title d-flex align-center justify-space-between">
                        STRATEGIST TOOLS
                        <span class="pro-badge-nav">PRO</span>
                    </MudText>

                    <MudNavLink Href="TheHotList" Icon="@Icons.Material.Outlined.Whatshot" Class="nav-item-custom">
                        The Hot List
                    </MudNavLink>

                    <MudNavLink Href="CompetitorWatchlist" Icon="@Icons.Material.Outlined.Groups" Class="nav-item-custom">
                        Competitor Watchlist
                    </MudNavLink>

                    <MudNavLink Href="MarketReport" Icon="@Icons.Material.Outlined.BarChart" Class="nav-item-custom">
                        Market Report
                    </MudNavLink>
                </Authorized>
            </AuthorizeView>

            @* --- BAGIAN ADMIN --- *@
            <AuthorizeView Roles="Admin" Context="adminContext">
                <Authorized>
                    <MudText Typo="Typo.caption" Class="nav-section-title">ADMIN CONTROL</MudText>

                    <MudNavLink Href="admin/settings" Icon="@Icons.Material.Outlined.AdminPanelSettings" Class="nav-item-custom">
                        Admin Settings
                    </MudNavLink>
                </Authorized>
            </AuthorizeView>
        </Authorized>
    </AuthorizeView>
</MudNavMenu>

@code {
    private int _unreadCount = 3;
}